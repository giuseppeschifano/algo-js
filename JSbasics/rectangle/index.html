
<!DOCTYPE html>

<html lang="en" dir="ltr">

  <head>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.css"> -->
    <!-- <link rel="stylesheet" href="main_404.css"> -->

    <meta charset="utf-8">
    <title>draw a rectangle</title>
    <style>
      canvas {border: 1px solid black;}
    </style>

  </head>


  <body onload="draw();">  

    <h4>draw a rectangle in a canvas</h4>
    <p>(x, y, width, height)</p>
    <canvas width="400" height="400" id="myCanvas"></canvas>


    <script>

//

class Rectangle {
  constructor(L1xPos, L1yPos, R1xPos, R1yPos, L2xPos, L2yPos, R2xPos, R2yPos ) {
    this.L1xPos = L1xPos;
    this.L1yPos = L1yPos;
    this.R1xPos = R1xPos;
    this.R1yPos = R1yPos;
    this.L2xPos = L2xPos;
    this.L2yPos = L2yPos;
    this.R2xPos = R2xPos;
    this.R2yPos = R2yPos;
  }
   
  get coordinates() {
    return this.L1xPos + " " + this.L1yPos + " " + this.R1xPos + " " + this.R1yPos + this.L2xPos + " " + this.L2yPos + " " + this.R2xPos + " " + this.R2yPos;
  }
  set coordinates(val) {
    this.L1xPos = val.split()[0];
    this.L1yPos = val.split()[1];
    this.R1xPos = val.split()[2];
    this.R1yPos = val.split()[3];
    this.L2xPos = val.split()[4];
    this.L2yPos = val.split()[5];
    this.R2xPos = val.split()[6];
    this.R2yPos = val.split()[7];
  }
  talk() {
    console.log("L1x= " + this.L1xPos + " L1y= " + this.L1yPos + " R1x= " + this.R1xPos + " R1y= " + this.R1yPos + " /// L2x= " + this.L2xPos + " L2y= " + this.L2yPos + " R2x= " + this.R2xPos + " R2y= " + this.R2yPos );
  }
}

//       L1x L1y R1x R1y 
//           L2x L2y R2x R2y

let coord = new Rectangle(
  (Math.floor((Math.random() * 30) + 10)), 
  (Math.floor((Math.random() * 10) + 10)), 
  (Math.floor((Math.random() * 100) + 100)), 
  (Math.floor((Math.random() * 80) + 80)), 
  (Math.floor((Math.random() * 20) + 10)), 
  (Math.floor((Math.random() * 30) + 10)), 
  (Math.floor((Math.random() * 100) + 100)), 
  (Math.floor((Math.random() * 80) + 80)));

if ( (coord.L2xPos <= coord.R1xPos) && (coord.R2yPos >= coord.L1yPos) ) {
  console.log("collapse = true");
  } else {
  console.log("collapse = false");
  }

coord.talk();


// draw
    
      function draw() {
        var canvas = document.getElementById("myCanvas");

          if (canvas.getContext) {

            var ctx = canvas.getContext("2d");

            // lightyellow rectangle
            ctx.fillStyle = "rgba(250, 250, 170, 1)";
            // ctx.fillRect(50, 40, 100, 60);
            ctx.fillRect(coord.L1xPos, coord.L1yPos, coord.R1xPos, coord.R1yPos);

            // lightblue rectangle
            ctx.fillStyle = "rgba(180, 180, 250, 0.6)"; 
            ctx.fillRect(coord.L2xPos, coord.L2yPos, coord.R2xPos, coord.R2yPos);

            // black rectangle
            ctx.fillStyle = "rgba(0, 0, 0, 1)"; 
            ctx.font = "16px Arial";

            ctx.fillText(("L1: " + coord.L1xPos + "/" + coord.L1yPos), 205, 340);
            ctx.fillText((coord.L1xPos + "/" + coord.L1yPos), (coord.L1xPos - 5), coord.L1yPos);

            ctx.fillText(("R1: " + (coord.L1xPos + coord.R1xPos) + "/" + (coord.L1yPos + coord.R1yPos)), 290, 340);

            ctx.fillText(("L2: " + coord.L2xPos + "/" + coord.L2yPos), 205, 360);

            ctx.fillText(("R2: " + (coord.L2xPos + coord.R2xPos) + "/" + (coord.L2yPos + coord.R2yPos)), 290, 360);
            ctx.fillText(((coord.L2xPos + coord.R2xPos) + "/" + (coord.L2yPos + coord.R2yPos)), ((coord.L2xPos + coord.R2xPos) - 20), ((coord.L2yPos + coord.R2yPos) + 15));


            if ( (coord.L2xPos <= coord.R1xPos) && (coord.R2yPos >= coord.L1yPos) ) {
              ctx.fillText(("#!({}COLL@PSED!!&[]::/"), 20, 320);
            } else {
              ctx.fillText(("OK"), 20, 320);
            }

          }
      }
    </script>

</body>
</html>
